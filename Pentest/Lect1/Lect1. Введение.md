Infosec wheel
![[Materials/Pasted image 20250912223447.jpeg]]
В этом курсе будет Red team

### Баг, угроза, риск

> Баг - дефект, аномалия, ошибка в программном продукте, ведущая к некорректной работе компонентов/продукта.
> Уязвимость - это баг, ведущий к нанесению системе ущерба любого рода (злой баг) 

> Угроза - совокупность условий и факторов, создающих потенциально или реально существующую опасность нарушения безопасности информации. Реализуется при эксплуатации уязвимости, описывает негативный эффект риска

> Риск - потенциальная возможность того, что уязвимость будет использоваться для создания **угрозы** активу или группе активов, приводящей к ущербу для организации

Угроза + Уязвимость (+ Актив)

### Модель угроз

Есть разные методологии - stride, dread, pasta и множество других

> DREAD - damage, reproductivity, exploitability, affected users, discoverability 

> **STRIDE** - spoofing, tampering, repudiation, inf disclosure, denial of service, elevation of privilege

### STRIDE

Состоит из этапов:
1. определение области работ
	- общая инфа
	- определение внешних зависимостей
	- определение входных/выходных точек
	- определение активов (assets)
	- определение уровней доверия
	- построение диаграмм потока данных (dfd)
2. определение угроз
3. определение контр-мер и митигации
4. оценка работы

### Оценка уязвимостей

**Качественный подход:**
- критичная критичность
- высокая критичностьт
- средняя критичность
- низкая критичность
Определяется методом экспертной оценки или модификацией количественного метода с учетом обстоятельств
Применяется, когда оценка количественным методом невозможна или имеются доп обстоятельства, мешающие кол оценке

**Количественный подход:**
> cvss - the common vulnerability scoring system
	- имеет несколько версий
	- последняя - CVSS 4.0, наиболее популярная - CVSS 3.1

> epss - exploit prediction scoring system
	- Новое явление в мире наступательной безопасности
	- Просчитывается и поддерживается организацией FIRST

**CVE**

> cve - common vulnerabilities and exposures - система идентификации и нумерации уязвимостей
> cve.mitre.org и nvd.nist.gov

> cwe - common  weakness enumeration - общий перечень проблем (слабостей) безопасности
> cwe top 25

owasp top 10 - "библия пентестера"

### Виды работ
- черный ящик
- серый ящик
- белый ящик

по характеру:
1. Анализ защищенности
	- Цель - поиск наибольшего количества уязвимостей
	- аналог "поиска в ширину"
	- имеют значения уязвимости любой критичности
	- объект тестирования может быть разным
	- длится 1-2 недели
2. Внешний пентест
	- **Цель** - нахождение наиболее критичных уязвимостей, находясь снаружи периметра безопасности
	- аналог "поиска в глубину"
	- делается акцент на критичности уязвимостей
	- одна из ключевых задач - "пробитие" периметра компании
	- проводится из внешней сети
	- "шумное" тестирование
	- длится 1-2 недели
3. Внутренний пентест
	- **Цель** - нахождение наиболее критичных уязвимостей, находясь внутри периметра безопасности
	- аналог поиска в ширину
	- делается акцент на критичности уязвимостей
	- одна из ключевых задач - реализация критических событий, влияющих на всю компанию
	- проводится из внутренней сети
	- "шумное тестирование"
	- длится 1-2 недели
4. Социотехническое тестирование
	- **Цель** - нахождение слабых мест в сотрудниках компании
	- фишинг и прочие виды социальной инженерии
	- длится 1-3 недели
5. Физическое тестирование
	- **Цель** - нахождение слабых мест в физической безопасности компании
	- локпикинг, карты местности, переодевание, аппаратные средства, сетевое оборудование, камеры, социальная инженерия
	- длится 1-4 недели
6. Red teaming
	 - **Цель** - имитация реальной атаки с мотивацией нанесения максимального ущерба и обхода средств защиты
	 - Включает в себя все виды тестирований
	 - Проводится с "боевыми" защитными механизмами компании без их уведомления
	 - Требует высокой аккуратности, точности и экспертизы
	 - Имитирует действия реальной целевой атаки (APT)
	 - "Тихое" тестирование
	 - Длится 1-3 месяца
7. Purple teaming
	- **Цель** - взаимное обучение и совершенствование атакующей и защищающей команд
	- Проводится внутри компании по договорённости команд
	- "Красные" получают навыки атаки и обхода средств защиты
	- "Синие" получают навыки детектирования угроз и имеют возможность улучшить средства обнаружения и защиты
8. Research
	- **Цель** - обнаружение 0day (ранее неизвестных) уязвимостей и написание эксплоитов к 1day (недавно обнаруженным).
	- Нужны для приобретения новых знаний и технологий
	- Требует высокой экспертизы и знания узких технологий
	- Поднимают имидж компании
	- Помогают своим коллегам-пентестерам в сложных вопросах

### Этапы проведения тестирования на проникновение

1. Разведка
2. Сбор информации
3. Поиск уяз
4. Пробив периметра
5. Закрепление <----------------------------------------------\
6. Повышение привилегий                                                    |
7. Внутренняя разведка (перемещение между хостами)    |
8. Боковое перемещение (к 5 пункту) ----------------------/
9. **Реализация крит события**

### Методологии проведения тестирования на проникновение

- ISSAF (Information systems security assessment framework) - https://untrustednetwork.net/files/issaf0.2.1.pdf
- OSSTMM (The Open Source Security Testing Metodology Manual) - https://www.isecom.org/OSSTMM.3.pdf
- PTES (Penetration Testing Execution Standart) - https://www.isecom.org/OSSTMM.3.pdf

Пирамида боли Дэвида Бьянко - https://www.anti-malware.ru/analytics
- TTPs - Tough
- Tools - Challenging
- Network/Host Artifacts - Annoying
- Domain names - Simple
- Ip Addresses - easy
- Hach values - trivial

***Mitre*** - https://attack.mitre.org 
+
***Kill Chain*** - https://en.wikipedia.org/wiki/Cyber_kill_chain